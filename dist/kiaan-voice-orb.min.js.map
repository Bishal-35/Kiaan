{"version":3,"file":"kiaan-voice-orb.min.js","mappings":"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","sources":["webpack://KiaanVoiceOrb/webpack/universalModuleDefinition","webpack://KiaanVoiceOrb/./src/css/orb.css","webpack://KiaanVoiceOrb/./src/css/panel.css","webpack://KiaanVoiceOrb/./src/js/meeting-mode.js","webpack://KiaanVoiceOrb/./src/js/orb.js","webpack://KiaanVoiceOrb/./src/js/panel.js","webpack://KiaanVoiceOrb/./src/js/text-chat.js","webpack://KiaanVoiceOrb/./src/js/voice-chat.js","webpack://KiaanVoiceOrb/webpack/bootstrap","webpack://KiaanVoiceOrb/webpack/runtime/define property getters","webpack://KiaanVoiceOrb/webpack/runtime/hasOwnProperty shorthand","webpack://KiaanVoiceOrb/webpack/runtime/make namespace object","webpack://KiaanVoiceOrb/./src/js/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"KiaanVoiceOrb\"] = factory();\n\telse\n\t\troot[\"KiaanVoiceOrb\"] = factory();\n})(self, () => {\nreturn ","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","import VoiceChat from './voice-chat';\r\n\r\nclass MeetingMode extends VoiceChat {\r\n  constructor(container, config) {\r\n    super(container, config);\r\n    // Override the agent config to use meeting agent instead of chat agent\r\n    this.config = {\r\n      ...config,\r\n      agents: {\r\n        chat: config.agents.meeting\r\n      }\r\n    };\r\n    \r\n    // Override UI elements with meeting-specific UI\r\n    this.customizeMeetingUI();\r\n  }\r\n  \r\n  customizeMeetingUI() {\r\n    // Add meeting-specific UI elements\r\n    const meetingHeader = document.createElement('div');\r\n    meetingHeader.className = 'kiaan-meeting-header';\r\n    meetingHeader.innerHTML = `\r\n      <h3>Meeting Assistant</h3>\r\n      <p>Use your voice to interact with the meeting assistant.</p>\r\n    `;\r\n    \r\n    // Insert at the beginning of the container\r\n    this.container.insertBefore(meetingHeader, this.container.firstChild);\r\n    \r\n    // Update status message\r\n    this.updateStatus('Meeting assistant ready. Click the microphone to start.');\r\n  }\r\n  \r\n  // Override the transcript handler to customize the meeting experience\r\n  handleTranscript(message) {\r\n    super.handleTranscript(message);\r\n    \r\n    // Additional meeting-specific functionality can be added here\r\n    if (message.role === 'assistant') {\r\n      // For example, we could extract action items or meeting notes\r\n      this.extractMeetingData(message.content);\r\n    }\r\n  }\r\n  \r\n  extractMeetingData(content) {\r\n    // This is a placeholder for meeting-specific functionality\r\n    // In a real implementation, this could extract action items, dates, etc.\r\n    console.log('Meeting data extracted:', content);\r\n  }\r\n}\r\n\r\nexport default MeetingMode;\r\n","class VoiceOrb {\r\n  constructor() {\r\n    this.isDragging = false;\r\n    this.dragThreshold = 5;\r\n    this.startX = 0;\r\n    this.startY = 0;\r\n    this.offsetX = 0;\r\n    this.offsetY = 0;\r\n    this.orbElement = null;\r\n    this.clickHandler = null;\r\n    \r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    // Create orb element\r\n    this.orbElement = document.createElement('div');\r\n    this.orbElement.className = 'kiaan-voice-orb';\r\n    \r\n    // Add SVG icon directly instead of fetching\r\n    this.orbElement.innerHTML = `<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle cx=\"8\" cy=\"8\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"8\" cy=\"16\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"8\" cy=\"24\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"16\" cy=\"8\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"16\" cy=\"16\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"16\" cy=\"24\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"24\" cy=\"8\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"24\" cy=\"16\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <circle cx=\"24\" cy=\"24\" r=\"2.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      <line x1=\"8\" y1=\"8\" x2=\"24\" y2=\"16\" stroke=\"white\" stroke-width=\"1\"/>\r\n      <line x1=\"8\" y1=\"16\" x2=\"24\" y2=\"8\" stroke=\"white\" stroke-width=\"1\"/>\r\n      <line x1=\"8\" y1=\"16\" x2=\"24\" y2=\"24\" stroke=\"white\" stroke-width=\"1\"/>\r\n      <line x1=\"8\" y1=\"24\" x2=\"24\" y2=\"16\" stroke=\"white\" stroke-width=\"1\"/>\r\n      <line x1=\"16\" y1=\"8\" x2=\"16\" y2=\"24\" stroke=\"white\" stroke-width=\"1\"/>\r\n    </svg>`;\r\n    \r\n    // Add event listeners for drag\r\n    this.orbElement.addEventListener('mousedown', this.handleDragStart.bind(this));\r\n    this.orbElement.addEventListener('touchstart', this.handleDragStart.bind(this), { passive: false });\r\n    \r\n    document.addEventListener('mousemove', this.handleDragMove.bind(this));\r\n    document.addEventListener('touchmove', this.handleDragMove.bind(this), { passive: false });\r\n    \r\n    document.addEventListener('mouseup', this.handleDragEnd.bind(this));\r\n    document.addEventListener('touchend', this.handleDragEnd.bind(this));\r\n    \r\n    // Append to DOM\r\n    document.body.appendChild(this.orbElement);\r\n  }\r\n  \r\n  handleDragStart(e) {\r\n    e.preventDefault();\r\n    \r\n    // Get event position\r\n    const pos = e.type === 'touchstart' ? e.touches[0] : e;\r\n    this.startX = pos.clientX;\r\n    this.startY = pos.clientY;\r\n    \r\n    // Get current position of orb\r\n    const rect = this.orbElement.getBoundingClientRect();\r\n    this.offsetX = this.startX - rect.left;\r\n    this.offsetY = this.startY - rect.top;\r\n    \r\n    // Reset drag state\r\n    this.isDragging = false;\r\n    this.hasMoved = false;\r\n  }\r\n  \r\n  handleDragMove(e) {\r\n    if (this.startX === 0 && this.startY === 0) return;\r\n    \r\n    const pos = e.type === 'touchmove' ? e.touches[0] : e;\r\n    const deltaX = pos.clientX - this.startX;\r\n    const deltaY = pos.clientY - this.startY;\r\n    \r\n    // Check if we've moved past the drag threshold\r\n    if (!this.isDragging && (Math.abs(deltaX) > this.dragThreshold || Math.abs(deltaY) > this.dragThreshold)) {\r\n      this.isDragging = true;\r\n      this.orbElement.classList.add('dragging');\r\n    }\r\n    \r\n    if (this.isDragging) {\r\n      e.preventDefault();\r\n      this.hasMoved = true;\r\n      \r\n      // Calculate new position\r\n      let newX = pos.clientX - this.offsetX;\r\n      let newY = pos.clientY - this.offsetY;\r\n      \r\n      // Check bounds\r\n      const orbSize = this.orbElement.offsetWidth;\r\n      const windowWidth = window.innerWidth;\r\n      const windowHeight = window.innerHeight;\r\n      \r\n      // Constrain to viewport\r\n      newX = Math.max(0, Math.min(windowWidth - orbSize, newX));\r\n      newY = Math.max(0, Math.min(windowHeight - orbSize, newY));\r\n      \r\n      // Apply new position\r\n      this.orbElement.style.right = 'auto';\r\n      this.orbElement.style.bottom = 'auto';\r\n      this.orbElement.style.left = `${newX}px`;\r\n      this.orbElement.style.top = `${newY}px`;\r\n    }\r\n  }\r\n  \r\n  handleDragEnd(e) {\r\n    if (this.isDragging) {\r\n      this.orbElement.classList.remove('dragging');\r\n    } else if (!this.hasMoved && this.clickHandler) {\r\n      // It was a click, not a drag\r\n      this.clickHandler();\r\n    }\r\n    \r\n    // Reset state\r\n    this.startX = 0;\r\n    this.startY = 0;\r\n    this.isDragging = false;\r\n  }\r\n  \r\n  setClickHandler(handler) {\r\n    this.clickHandler = handler;\r\n  }\r\n}\r\n\r\nexport default VoiceOrb;\r\n","import VoiceChat from './voice-chat';\r\nimport MeetingMode from './meeting-mode';\r\nimport TextChat from './text-chat';\r\n\r\nclass Panel {\r\n  constructor() {\r\n    this.panelContainer = null;\r\n    this.panel = null;\r\n    this.activeMode = 'voice-chat';\r\n    this.config = null;\r\n    this.modeInstances = {};\r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    // Create panel container\r\n    this.panelContainer = document.createElement('div');\r\n    this.panelContainer.className = 'kiaan-panel-container';\r\n    \r\n    // Create panel\r\n    this.panel = document.createElement('div');\r\n    this.panel.className = 'kiaan-panel';\r\n    \r\n    // Create panel header\r\n    const panelHeader = document.createElement('div');\r\n    panelHeader.className = 'kiaan-panel-header';\r\n    \r\n    const panelTitle = document.createElement('div');\r\n    panelTitle.className = 'kiaan-panel-title';\r\n    panelTitle.textContent = 'Kiaan Voice Assistant';\r\n    \r\n    const closeButton = document.createElement('button');\r\n    closeButton.className = 'kiaan-panel-close';\r\n    closeButton.innerHTML = '&times;';\r\n    closeButton.addEventListener('click', () => this.close());\r\n    \r\n    panelHeader.appendChild(panelTitle);\r\n    panelHeader.appendChild(closeButton);\r\n    \r\n    // Create tabs\r\n    const tabs = document.createElement('div');\r\n    tabs.className = 'kiaan-panel-tabs';\r\n    \r\n    const modes = [\r\n      { id: 'voice-chat', label: 'Voice Chat' },\r\n      { id: 'meeting', label: 'Meeting' },\r\n      { id: 'text-chat', label: 'Text Chat' }\r\n    ];\r\n    \r\n    modes.forEach(mode => {\r\n      const tab = document.createElement('div');\r\n      tab.className = `kiaan-panel-tab ${mode.id === this.activeMode ? 'active' : ''}`;\r\n      tab.textContent = mode.label;\r\n      tab.dataset.mode = mode.id;\r\n      tab.addEventListener('click', () => this.switchMode(mode.id));\r\n      tabs.appendChild(tab);\r\n    });\r\n    \r\n    // Create content area\r\n    const content = document.createElement('div');\r\n    content.className = 'kiaan-panel-content';\r\n    \r\n    // Create mode containers\r\n    modes.forEach(mode => {\r\n      const modeContainer = document.createElement('div');\r\n      modeContainer.className = `kiaan-mode ${mode.id === this.activeMode ? 'active' : ''}`;\r\n      modeContainer.id = `kiaan-${mode.id}-mode`;\r\n      content.appendChild(modeContainer);\r\n    });\r\n    \r\n    // Assemble panel\r\n    this.panel.appendChild(panelHeader);\r\n    this.panel.appendChild(tabs);\r\n    this.panel.appendChild(content);\r\n    \r\n    // Add to DOM\r\n    this.panelContainer.appendChild(this.panel);\r\n    document.body.appendChild(this.panelContainer);\r\n    \r\n    // Add event listener to close panel when clicking outside\r\n    this.panelContainer.addEventListener('click', (e) => {\r\n      if (e.target === this.panelContainer) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n  \r\n  setConfig(config) {\r\n    this.config = config;\r\n    \r\n    // Initialize active mode if config is available\r\n    if (config) {\r\n      this.initializeMode(this.activeMode);\r\n    }\r\n  }\r\n  \r\n  initializeMode(modeId) {\r\n    if (!this.config) return;\r\n    \r\n    // Get container for this mode\r\n    const container = document.getElementById(`kiaan-${modeId}-mode`);\r\n    if (!container) return;\r\n    \r\n    // Clean up existing instance if any\r\n    if (this.modeInstances[modeId]) {\r\n      if (typeof this.modeInstances[modeId].destroy === 'function') {\r\n        this.modeInstances[modeId].destroy();\r\n      }\r\n      delete this.modeInstances[modeId];\r\n    }\r\n    \r\n    // Initialize based on mode\r\n    switch (modeId) {\r\n      case 'voice-chat':\r\n        this.modeInstances[modeId] = new VoiceChat(container, this.config);\r\n        break;\r\n      case 'meeting':\r\n        this.modeInstances[modeId] = new MeetingMode(container, this.config);\r\n        break;\r\n      case 'text-chat':\r\n        this.modeInstances[modeId] = new TextChat(container, this.config);\r\n        break;\r\n    }\r\n  }\r\n  \r\n  open() {\r\n    // Disable page scrolling\r\n    document.body.style.overflow = 'hidden';\r\n    \r\n    // Show panel with animation\r\n    this.panelContainer.classList.add('active');\r\n    \r\n    // Initialize the active mode if not already initialized\r\n    if (!this.modeInstances[this.activeMode] && this.config) {\r\n      this.initializeMode(this.activeMode);\r\n    }\r\n  }\r\n  \r\n  close() {\r\n    // Re-enable page scrolling\r\n    document.body.style.overflow = '';\r\n    \r\n    // Hide panel with animation\r\n    this.panelContainer.classList.remove('active');\r\n  }\r\n  \r\n  switchMode(modeId) {\r\n    // Update active tab\r\n    const tabs = this.panel.querySelectorAll('.kiaan-panel-tab');\r\n    tabs.forEach(tab => {\r\n      tab.classList.toggle('active', tab.dataset.mode === modeId);\r\n    });\r\n    \r\n    // Update active mode content\r\n    const modes = this.panel.querySelectorAll('.kiaan-mode');\r\n    modes.forEach(mode => {\r\n      mode.classList.toggle('active', mode.id === `kiaan-${modeId}-mode`);\r\n    });\r\n    \r\n    this.activeMode = modeId;\r\n    \r\n    // Initialize the mode if not already initialized\r\n    if (!this.modeInstances[modeId] && this.config) {\r\n      this.initializeMode(modeId);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Panel;\r\n","class TextChat {\r\n  constructor(container, config) {\r\n    this.container = container;\r\n    this.config = config;\r\n    this.messages = [];\r\n    this.isProcessing = false;\r\n    this.webhookUrl = config?.webhooks?.text_chat || null;\r\n    this.uploadUrl = config?.webhooks?.file_upload || null;\r\n    this.fileUploadSettings = config?.settings || {\r\n      max_file_size: 10485760, // 10MB default\r\n      allowed_file_types: ['.jpg', '.jpeg', '.png', '.pdf', '.csv', '.doc', '.docx']\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    // Clear container and create UI\r\n    this.container.innerHTML = '';\r\n    this.createUI();\r\n  }\r\n  \r\n  createUI() {\r\n    // Create chat container\r\n    const chatContainer = document.createElement('div');\r\n    chatContainer.className = 'kiaan-text-chat-container';\r\n    \r\n    // Create messages area\r\n    const messagesArea = document.createElement('div');\r\n    messagesArea.className = 'kiaan-messages-area';\r\n    this.messagesArea = messagesArea;\r\n    \r\n    // Create input area\r\n    const inputArea = document.createElement('div');\r\n    inputArea.className = 'kiaan-input-area';\r\n    \r\n    // Create attachment button\r\n    const attachButton = document.createElement('button');\r\n    attachButton.className = 'kiaan-attach-button';\r\n    attachButton.innerHTML = '<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z\"></path></svg>';\r\n    \r\n    // Create hidden file input\r\n    const fileInput = document.createElement('input');\r\n    fileInput.type = 'file';\r\n    fileInput.multiple = true;\r\n    fileInput.style.display = 'none';\r\n    fileInput.accept = this.fileUploadSettings.allowed_file_types.join(',');\r\n    fileInput.addEventListener('change', () => this.handleFileSelection(fileInput.files));\r\n    this.fileInput = fileInput;\r\n    \r\n    attachButton.addEventListener('click', () => fileInput.click());\r\n    \r\n    // Create text input\r\n    const textInput = document.createElement('textarea');\r\n    textInput.className = 'kiaan-text-input';\r\n    textInput.placeholder = 'Type your message...';\r\n    textInput.rows = 1;\r\n    textInput.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Enter' && !e.shiftKey) {\r\n        e.preventDefault();\r\n        this.sendMessage();\r\n      }\r\n    });\r\n    textInput.addEventListener('input', this.autoResizeTextarea.bind(this));\r\n    this.textInput = textInput;\r\n    \r\n    // Create send button\r\n    const sendButton = document.createElement('button');\r\n    sendButton.className = 'kiaan-send-button';\r\n    sendButton.innerHTML = '<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M2,21L23,12L2,3V10L17,12L2,14V21Z\"></path></svg>';\r\n    sendButton.addEventListener('click', () => this.sendMessage());\r\n    this.sendButton = sendButton;\r\n    \r\n    // Create upload progress area\r\n    const uploadProgressArea = document.createElement('div');\r\n    uploadProgressArea.className = 'kiaan-upload-progress-area';\r\n    uploadProgressArea.style.display = 'none';\r\n    this.uploadProgressArea = uploadProgressArea;\r\n    \r\n    // Append elements to input area\r\n    inputArea.appendChild(attachButton);\r\n    inputArea.appendChild(textInput);\r\n    inputArea.appendChild(sendButton);\r\n    \r\n    // Append all elements to chat container\r\n    chatContainer.appendChild(messagesArea);\r\n    chatContainer.appendChild(uploadProgressArea);\r\n    chatContainer.appendChild(inputArea);\r\n    \r\n    // Append to container\r\n    this.container.appendChild(chatContainer);\r\n    this.container.appendChild(fileInput);\r\n    \r\n    // Add styles\r\n    this.addStyles();\r\n  }\r\n  \r\n  addStyles() {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      .kiaan-text-chat-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        color: white;\r\n      }\r\n      \r\n      .kiaan-messages-area {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n        padding: 10px;\r\n        display: flex;\r\n        flex-direction: column;\r\n      }\r\n      \r\n      .kiaan-message {\r\n        margin-bottom: 12px;\r\n        padding: 8px 12px;\r\n        border-radius: 12px;\r\n        max-width: 80%;\r\n        word-break: break-word;\r\n      }\r\n      \r\n      .kiaan-user-message {\r\n        background-color: rgba(79, 124, 255, 0.3);\r\n        align-self: flex-end;\r\n        margin-left: auto;\r\n      }\r\n      \r\n      .kiaan-ai-message {\r\n        background-color: rgba(255, 255, 255, 0.1);\r\n        align-self: flex-start;\r\n      }\r\n      \r\n      .kiaan-attachment {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-top: 8px;\r\n        background: rgba(255, 255, 255, 0.05);\r\n        padding: 6px;\r\n        border-radius: 8px;\r\n      }\r\n      \r\n      .kiaan-attachment svg {\r\n        margin-right: 8px;\r\n      }\r\n      \r\n      .kiaan-upload-progress-area {\r\n        padding: 10px;\r\n        border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n      }\r\n      \r\n      .kiaan-upload-progress {\r\n        margin-bottom: 8px;\r\n        display: flex;\r\n        align-items: center;\r\n      }\r\n      \r\n      .kiaan-upload-progress-bar {\r\n        flex: 1;\r\n        height: 4px;\r\n        background: rgba(255, 255, 255, 0.2);\r\n        border-radius: 2px;\r\n        margin-right: 8px;\r\n      }\r\n      \r\n      .kiaan-upload-progress-bar-fill {\r\n        height: 100%;\r\n        background: linear-gradient(90deg, #4f7cff, #9d4edd);\r\n        border-radius: 2px;\r\n        width: 0%;\r\n        transition: width 0.2s;\r\n      }\r\n      \r\n      .kiaan-input-area {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 10px;\r\n        border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n      }\r\n      \r\n      .kiaan-attach-button, .kiaan-send-button {\r\n        background: none;\r\n        border: none;\r\n        color: white;\r\n        padding: 8px;\r\n        cursor: pointer;\r\n        transition: transform 0.2s;\r\n      }\r\n      \r\n      .kiaan-attach-button:hover, .kiaan-send-button:hover {\r\n        transform: scale(1.1);\r\n      }\r\n      \r\n      .kiaan-text-input {\r\n        flex: 1;\r\n        padding: 8px 12px;\r\n        border-radius: 18px;\r\n        border: 1px solid rgba(255, 255, 255, 0.2);\r\n        background: rgba(255, 255, 255, 0.05);\r\n        color: white;\r\n        resize: none;\r\n        max-height: 120px;\r\n        margin: 0 8px;\r\n      }\r\n      \r\n      .kiaan-text-input::placeholder {\r\n        color: rgba(255, 255, 255, 0.5);\r\n      }\r\n    `;\r\n    \r\n    document.head.appendChild(style);\r\n  }\r\n  \r\n  autoResizeTextarea() {\r\n    const textarea = this.textInput;\r\n    \r\n    // Reset height to auto to get the correct scrollHeight\r\n    textarea.style.height = 'auto';\r\n    \r\n    // Set new height based on scrollHeight, with a maximum height\r\n    const newHeight = Math.min(textarea.scrollHeight, 120);\r\n    textarea.style.height = `${newHeight}px`;\r\n  }\r\n  \r\n  handleFileSelection(files) {\r\n    if (!files || files.length === 0) return;\r\n    \r\n    const allowedTypes = this.fileUploadSettings.allowed_file_types;\r\n    const maxSize = this.fileUploadSettings.max_file_size;\r\n    \r\n    // Filter valid files\r\n    const validFiles = Array.from(files).filter(file => {\r\n      // Check file size\r\n      if (file.size > maxSize) {\r\n        this.showError(`File \"${file.name}\" exceeds maximum size of ${maxSize / 1024 / 1024}MB`);\r\n        return false;\r\n      }\r\n      \r\n      // Check file type\r\n      const fileExt = '.' + file.name.split('.').pop().toLowerCase();\r\n      if (!allowedTypes.includes(fileExt)) {\r\n        this.showError(`File type \"${fileExt}\" is not allowed`);\r\n        return false;\r\n      }\r\n      \r\n      return true;\r\n    });\r\n    \r\n    if (validFiles.length === 0) return;\r\n    \r\n    // Show upload progress area\r\n    this.uploadProgressArea.style.display = 'block';\r\n    this.uploadProgressArea.innerHTML = '';\r\n    \r\n    // Create progress elements for each file\r\n    validFiles.forEach(file => {\r\n      const progressElement = document.createElement('div');\r\n      progressElement.className = 'kiaan-upload-progress';\r\n      progressElement.innerHTML = `\r\n        <div class=\"kiaan-upload-progress-bar\">\r\n          <div class=\"kiaan-upload-progress-bar-fill\" style=\"width: 0%\"></div>\r\n        </div>\r\n        <div class=\"kiaan-upload-progress-text\">${file.name} (0%)</div>\r\n      `;\r\n      \r\n      this.uploadProgressArea.appendChild(progressElement);\r\n      \r\n      // Store reference to progress elements\r\n      file.progressElement = progressElement;\r\n      file.progressBar = progressElement.querySelector('.kiaan-upload-progress-bar-fill');\r\n      file.progressText = progressElement.querySelector('.kiaan-upload-progress-text');\r\n    });\r\n    \r\n    // Upload files\r\n    this.uploadFiles(validFiles);\r\n  }\r\n  \r\n  uploadFiles(files) {\r\n    if (!this.uploadUrl) {\r\n      this.showError('File upload URL not configured');\r\n      return;\r\n    }\r\n    \r\n    // For each file, create an upload promise\r\n    const uploadPromises = files.map(file => {\r\n      return new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        \r\n        // Track upload progress\r\n        xhr.upload.addEventListener('progress', (event) => {\r\n          if (event.lengthComputable) {\r\n            const percentComplete = Math.round((event.loaded / event.total) * 100);\r\n            file.progressBar.style.width = `${percentComplete}%`;\r\n            file.progressText.textContent = `${file.name} (${percentComplete}%)`;\r\n          }\r\n        });\r\n        \r\n        // Handle response\r\n        xhr.addEventListener('load', () => {\r\n          if (xhr.status >= 200 && xhr.status < 300) {\r\n            try {\r\n              const response = JSON.parse(xhr.responseText);\r\n              file.progressText.textContent = `${file.name} (Uploaded)`;\r\n              resolve({\r\n                name: file.name,\r\n                url: response.url,\r\n                type: file.type,\r\n                size: file.size\r\n              });\r\n            } catch (e) {\r\n              reject(new Error('Invalid response from server'));\r\n            }\r\n          } else {\r\n            reject(new Error(`Upload failed: ${xhr.statusText}`));\r\n          }\r\n        });\r\n        \r\n        xhr.addEventListener('error', () => {\r\n          reject(new Error('Network error during upload'));\r\n        });\r\n        \r\n        xhr.addEventListener('abort', () => {\r\n          reject(new Error('Upload aborted'));\r\n        });\r\n        \r\n        // Open request and send file\r\n        xhr.open('POST', this.uploadUrl);\r\n        \r\n        // Create FormData\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        \r\n        xhr.send(formData);\r\n      }).catch(error => {\r\n        file.progressText.textContent = `${file.name} (Failed: ${error.message})`;\r\n        return null;\r\n      });\r\n    });\r\n    \r\n    // Wait for all uploads to complete\r\n    Promise.all(uploadPromises).then(results => {\r\n      // Filter out failed uploads\r\n      const uploads = results.filter(result => result !== null);\r\n      \r\n      // If we have successful uploads, attach them to the message\r\n      if (uploads.length > 0) {\r\n        this.pendingAttachments = uploads;\r\n        \r\n        // Hide upload progress after a delay\r\n        setTimeout(() => {\r\n          this.uploadProgressArea.style.display = 'none';\r\n        }, 2000);\r\n      }\r\n    });\r\n  }\r\n  \r\n  sendMessage() {\r\n    const text = this.textInput.value.trim();\r\n    const attachments = this.pendingAttachments || [];\r\n    \r\n    // Don't send if empty and no attachments\r\n    if (!text && attachments.length === 0) return;\r\n    \r\n    // Clear input and reset height\r\n    this.textInput.value = '';\r\n    this.textInput.style.height = 'auto';\r\n    \r\n    // Disable input during processing\r\n    this.isProcessing = true;\r\n    this.textInput.disabled = true;\r\n    this.sendButton.disabled = true;\r\n    \r\n    // Create message object\r\n    const message = {\r\n      content: text,\r\n      attachments: attachments,\r\n      role: 'user',\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    // Add to messages array\r\n    this.messages.push(message);\r\n    \r\n    // Display message\r\n    this.displayMessage(message);\r\n    \r\n    // Clear pending attachments\r\n    this.pendingAttachments = [];\r\n    \r\n    // Send to server\r\n    this.sendToWebhook(message)\r\n      .then(response => {\r\n        // Display AI response\r\n        const aiMessage = {\r\n          content: response.content,\r\n          role: 'assistant',\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        \r\n        this.messages.push(aiMessage);\r\n        this.displayMessage(aiMessage);\r\n      })\r\n      .catch(error => {\r\n        this.showError(`Failed to send message: ${error.message}`);\r\n      })\r\n      .finally(() => {\r\n        // Re-enable input\r\n        this.isProcessing = false;\r\n        this.textInput.disabled = false;\r\n        this.sendButton.disabled = false;\r\n      });\r\n  }\r\n  \r\n  sendToWebhook(message) {\r\n    if (!this.webhookUrl) {\r\n      return Promise.reject(new Error('Webhook URL not configured'));\r\n    }\r\n    \r\n    return fetch(this.webhookUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(message)\r\n    })\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error(`Server responded with ${response.status}`);\r\n      }\r\n      return response.json();\r\n    });\r\n  }\r\n  \r\n  displayMessage(message) {\r\n    const messageEl = document.createElement('div');\r\n    messageEl.className = `kiaan-message kiaan-${message.role}-message`;\r\n    \r\n    // Add message text\r\n    if (message.content) {\r\n      messageEl.textContent = message.content;\r\n    }\r\n    \r\n    // Add attachments if any\r\n    if (message.attachments && message.attachments.length > 0) {\r\n      const attachmentsContainer = document.createElement('div');\r\n      attachmentsContainer.className = 'kiaan-attachments-container';\r\n      \r\n      message.attachments.forEach(attachment => {\r\n        const attachmentEl = document.createElement('div');\r\n        attachmentEl.className = 'kiaan-attachment';\r\n        \r\n        // Add appropriate icon based on file type\r\n        let icon = '';\r\n        if (attachment.type.startsWith('image/')) {\r\n          icon = '<svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\"><path fill=\"currentColor\" d=\"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z\"></path></svg>';\r\n        } else if (attachment.type.includes('pdf')) {\r\n          icon = '<svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\"><path fill=\"currentColor\" d=\"M12,9H15V15H12V9M10,9H7V11H10V9M10,13H7V15H10V13M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\"></path></svg>';\r\n        } else {\r\n          icon = '<svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\"><path fill=\"currentColor\" d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"></path></svg>';\r\n        }\r\n        \r\n        attachmentEl.innerHTML = `\r\n          ${icon}\r\n          <span>${attachment.name}</span>\r\n        `;\r\n        \r\n        attachmentsContainer.appendChild(attachmentEl);\r\n      });\r\n      \r\n      messageEl.appendChild(attachmentsContainer);\r\n    }\r\n    \r\n    this.messagesArea.appendChild(messageEl);\r\n    this.messagesArea.scrollTop = this.messagesArea.scrollHeight;\r\n  }\r\n  \r\n  showError(message) {\r\n    // Create an error toast\r\n    const errorToast = document.createElement('div');\r\n    errorToast.className = 'kiaan-error-toast';\r\n    errorToast.textContent = message;\r\n    \r\n    // Add styles for the toast\r\n    errorToast.style.position = 'absolute';\r\n    errorToast.style.bottom = '60px';\r\n    errorToast.style.left = '50%';\r\n    errorToast.style.transform = 'translateX(-50%)';\r\n    errorToast.style.backgroundColor = 'rgba(255, 59, 59, 0.9)';\r\n    errorToast.style.color = 'white';\r\n    errorToast.style.padding = '8px 16px';\r\n    errorToast.style.borderRadius = '4px';\r\n    errorToast.style.zIndex = '10000';\r\n    \r\n    // Add to DOM\r\n    this.container.appendChild(errorToast);\r\n    \r\n    // Remove after 3 seconds\r\n    setTimeout(() => {\r\n      if (errorToast.parentNode) {\r\n        errorToast.parentNode.removeChild(errorToast);\r\n      }\r\n    }, 3000);\r\n    \r\n    console.error('Text Chat Error:', message);\r\n  }\r\n}\r\n\r\nexport default TextChat;\r\n","class VoiceChat {\r\n  constructor(container, config) {\r\n    this.container = container;\r\n    this.config = config;\r\n    this.conversationState = {\r\n      isConnecting: false,\r\n      isListening: false,\r\n      isSpeaking: false,\r\n      error: null\r\n    };\r\n    this.transcript = [];\r\n    \r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    // Clear container and create UI\r\n    this.container.innerHTML = '';\r\n    this.createUI();\r\n    \r\n    // Initialize ElevenLabs voice functionality via direct API\r\n    this.initializeVoiceConversation();\r\n  }\r\n  \r\n  createUI() {\r\n    // Create chat container\r\n    const chatContainer = document.createElement('div');\r\n    chatContainer.className = 'kiaan-voice-chat-container';\r\n    \r\n    // Create transcript area\r\n    const transcriptArea = document.createElement('div');\r\n    transcriptArea.className = 'kiaan-transcript-area';\r\n    this.transcriptArea = transcriptArea;\r\n    \r\n    // Create status area\r\n    const statusArea = document.createElement('div');\r\n    statusArea.className = 'kiaan-status-area';\r\n    this.statusArea = statusArea;\r\n    \r\n    // Create controls\r\n    const controlsArea = document.createElement('div');\r\n    controlsArea.className = 'kiaan-controls-area';\r\n    \r\n    const micButton = document.createElement('button');\r\n    micButton.className = 'kiaan-mic-button';\r\n    micButton.innerHTML = '<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z\"></path></svg>';\r\n    micButton.addEventListener('click', () => this.toggleListening());\r\n    this.micButton = micButton;\r\n    \r\n    controlsArea.appendChild(micButton);\r\n    \r\n    // Append all elements\r\n    chatContainer.appendChild(transcriptArea);\r\n    chatContainer.appendChild(statusArea);\r\n    chatContainer.appendChild(controlsArea);\r\n    \r\n    this.container.appendChild(chatContainer);\r\n    \r\n    // Add styles\r\n    this.addStyles();\r\n  }\r\n  \r\n  addStyles() {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      .kiaan-voice-chat-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        color: white;\r\n      }\r\n      \r\n      .kiaan-transcript-area {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n        padding: 10px;\r\n      }\r\n      \r\n      .kiaan-message {\r\n        margin-bottom: 12px;\r\n        padding: 8px 12px;\r\n        border-radius: 12px;\r\n        max-width: 80%;\r\n        word-break: break-word;\r\n      }\r\n      \r\n      .kiaan-user-message {\r\n        background-color: rgba(79, 124, 255, 0.3);\r\n        align-self: flex-end;\r\n        margin-left: auto;\r\n      }\r\n      \r\n      .kiaan-ai-message {\r\n        background-color: rgba(255, 255, 255, 0.1);\r\n        align-self: flex-start;\r\n      }\r\n      \r\n      .kiaan-status-area {\r\n        padding: 8px 12px;\r\n        font-size: 14px;\r\n        text-align: center;\r\n        color: rgba(255, 255, 255, 0.7);\r\n        min-height: 20px;\r\n      }\r\n      \r\n      .kiaan-controls-area {\r\n        display: flex;\r\n        justify-content: center;\r\n        padding: 10px;\r\n      }\r\n      \r\n      .kiaan-mic-button {\r\n        width: 60px;\r\n        height: 60px;\r\n        border-radius: 50%;\r\n        background: linear-gradient(135deg, #4f7cff 0%, #9d4edd 100%);\r\n        border: none;\r\n        color: white;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        cursor: pointer;\r\n        transition: transform 0.2s;\r\n      }\r\n      \r\n      .kiaan-mic-button:hover {\r\n        transform: scale(1.05);\r\n      }\r\n      \r\n      .kiaan-mic-button.listening {\r\n        animation: pulse-recording 1.5s infinite;\r\n      }\r\n      \r\n      @keyframes pulse-recording {\r\n        0% {\r\n          box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);\r\n        }\r\n        70% {\r\n          box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);\r\n        }\r\n        100% {\r\n          box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);\r\n        }\r\n      }\r\n    `;\r\n    \r\n    document.head.appendChild(style);\r\n  }\r\n  \r\n  initializeVoiceConversation() {\r\n    // Direct implementation using browser's Web Speech API for speech recognition\r\n    // instead of relying on the nonexistent package\r\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      this.recognition = new SpeechRecognition();\r\n      this.recognition.continuous = false;\r\n      this.recognition.interimResults = true;\r\n      \r\n      this.recognition.onstart = () => {\r\n        this.conversationState.isListening = true;\r\n        this.handleStatusChange(this.conversationState);\r\n      };\r\n      \r\n      this.recognition.onend = () => {\r\n        this.conversationState.isListening = false;\r\n        this.handleStatusChange(this.conversationState);\r\n      };\r\n      \r\n      this.recognition.onresult = (event) => {\r\n        const transcript = Array.from(event.results)\r\n          .map(result => result[0].transcript)\r\n          .join('');\r\n          \r\n        // Handle final result\r\n        if (event.results[0].isFinal) {\r\n          this.handleTranscript({\r\n            role: 'user',\r\n            content: transcript\r\n          });\r\n          \r\n          // Simulate AI response after a short delay\r\n          this.conversationState.isSpeaking = true;\r\n          this.handleStatusChange(this.conversationState);\r\n          \r\n          setTimeout(() => {\r\n            this.handleTranscript({\r\n              role: 'assistant',\r\n              content: `This is a placeholder response. In a production environment, this would connect to the ElevenLabs API with agent ID: ${this.config?.agents?.chat?.id || 'not configured'}`\r\n            });\r\n            \r\n            this.conversationState.isSpeaking = false;\r\n            this.handleStatusChange(this.conversationState);\r\n          }, 1500);\r\n        }\r\n      };\r\n      \r\n      this.recognition.onerror = (event) => {\r\n        this.handleError(`Speech recognition error: ${event.error}`);\r\n      };\r\n      \r\n      this.updateStatus('Ready to talk. Click the microphone button to start.');\r\n    } else {\r\n      this.handleError('Speech recognition not supported in this browser');\r\n    }\r\n  }\r\n  \r\n  toggleListening() {\r\n    if (this.conversationState.isListening) {\r\n      this.stopListening();\r\n    } else {\r\n      this.startListening();\r\n    }\r\n  }\r\n  \r\n  startListening() {\r\n    if (!this.recognition) {\r\n      this.handleError('Voice conversation not initialized');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      this.recognition.start();\r\n      this.micButton.classList.add('listening');\r\n      this.updateStatus('Listening...');\r\n    } catch (error) {\r\n      this.handleError('Failed to start listening', error);\r\n    }\r\n  }\r\n  \r\n  stopListening() {\r\n    if (!this.recognition) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      this.recognition.stop();\r\n      this.micButton.classList.remove('listening');\r\n      this.updateStatus('Processing...');\r\n    } catch (error) {\r\n      this.handleError('Failed to stop listening', error);\r\n    }\r\n  }\r\n  \r\n  handleTranscript(message) {\r\n    this.transcript.push(message);\r\n    \r\n    const messageEl = document.createElement('div');\r\n    messageEl.className = `kiaan-message kiaan-${message.role}-message`;\r\n    messageEl.textContent = message.content;\r\n    \r\n    this.transcriptArea.appendChild(messageEl);\r\n    this.transcriptArea.scrollTop = this.transcriptArea.scrollHeight;\r\n  }\r\n  \r\n  handleStatusChange(status) {\r\n    this.conversationState = { ...status };\r\n    \r\n    if (status.isListening) {\r\n      this.micButton.classList.add('listening');\r\n      this.updateStatus('Listening...');\r\n    } else if (status.isSpeaking) {\r\n      this.micButton.classList.remove('listening');\r\n      this.updateStatus('Speaking...');\r\n    } else if (status.isConnecting) {\r\n      this.updateStatus('Connecting...');\r\n    } else {\r\n      this.micButton.classList.remove('listening');\r\n      this.updateStatus('Ready');\r\n    }\r\n  }\r\n  \r\n  handleError(message, error = null) {\r\n    console.error('Voice Chat Error:', message, error);\r\n    this.conversationState.error = message;\r\n    this.updateStatus(`Error: ${message}`);\r\n  }\r\n  \r\n  updateStatus(message) {\r\n    if (this.statusArea) {\r\n      this.statusArea.textContent = message;\r\n    }\r\n  }\r\n  \r\n  destroy() {\r\n    if (this.recognition) {\r\n      try {\r\n        this.recognition.stop();\r\n      } catch (e) {\r\n        console.error('Error stopping recognition:', e);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default VoiceChat;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import VoiceOrb from './orb';\r\nimport Panel from './panel';\r\nimport '../css/orb.css';\r\nimport '../css/panel.css';\r\n\r\nclass KiaanVoiceOrbClass {\r\n  constructor() {\r\n    this.orb = null;\r\n    this.panel = null;\r\n    this.config = null;\r\n  }\r\n  \r\n  init(options = {}) {\r\n    const { configUrl, config } = options;\r\n    \r\n    console.log('Kiaan Voice Orb initializing...');\r\n    \r\n    // Create orb and panel\r\n    this.orb = new VoiceOrb();\r\n    this.panel = new Panel();\r\n    \r\n    // Set up orb click handler\r\n    this.orb.setClickHandler(() => {\r\n      this.panel.open();\r\n    });\r\n    \r\n    // Use provided config directly if available\r\n    if (config) {\r\n      console.log('Using provided config');\r\n      this.config = config;\r\n      this.initializeWithConfig(config);\r\n    }\r\n    // Otherwise fetch configuration if URL provided\r\n    else if (configUrl) {\r\n      this.fetchConfig(configUrl);\r\n    }\r\n  }\r\n  \r\n  fetchConfig(configUrl) {\r\n    fetch(configUrl)\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(config => {\r\n        this.config = config;\r\n        this.initializeWithConfig(config);\r\n      })\r\n      .catch(error => {\r\n        console.error('Failed to load Kiaan Voice Orb config:', error);\r\n      });\r\n  }\r\n  \r\n  initializeWithConfig(config) {\r\n    // Pass config to panel for initializing modes\r\n    this.panel.setConfig(config);\r\n    console.log('Kiaan Voice Orb initialized with config:', config);\r\n  }\r\n}\r\n\r\n// Create a single instance\r\nconst KiaanVoiceOrb = new KiaanVoiceOrbClass();\r\n\r\n// Expose to global scope\r\nwindow.KiaanVoiceOrb = KiaanVoiceOrb;\r\n\r\nexport default KiaanVoiceOrb;\r\n"],"names":["VoiceChat","MeetingMode","_VoiceChat","container","config","_this","_classCallCheck","_callSuper","_objectSpread","agents","chat","meeting","customizeMeetingUI","_inherits","_createClass","key","value","meetingHeader","document","createElement","className","innerHTML","insertBefore","firstChild","updateStatus","handleTranscript","message","_superPropGet","role","extractMeetingData","content","console","log","VoiceOrb","isDragging","dragThreshold","startX","startY","offsetX","offsetY","orbElement","clickHandler","init","addEventListener","handleDragStart","bind","passive","handleDragMove","handleDragEnd","body","appendChild","e","preventDefault","pos","type","touches","clientX","clientY","rect","getBoundingClientRect","left","top","hasMoved","deltaX","deltaY","Math","abs","classList","add","newX","newY","orbSize","offsetWidth","windowWidth","window","innerWidth","windowHeight","innerHeight","max","min","style","right","bottom","concat","remove","setClickHandler","handler","TextChat","Panel","panelContainer","panel","activeMode","modeInstances","panelHeader","panelTitle","textContent","closeButton","close","tabs","modes","id","label","forEach","mode","tab","dataset","switchMode","modeContainer","target","setConfig","initializeMode","modeId","getElementById","destroy","open","overflow","querySelectorAll","toggle","_config$webhooks","_config$webhooks2","messages","isProcessing","webhookUrl","webhooks","text_chat","uploadUrl","file_upload","fileUploadSettings","settings","max_file_size","allowed_file_types","createUI","chatContainer","messagesArea","inputArea","attachButton","fileInput","multiple","display","accept","join","handleFileSelection","files","click","textInput","placeholder","rows","shiftKey","sendMessage","autoResizeTextarea","sendButton","uploadProgressArea","addStyles","head","textarea","height","newHeight","scrollHeight","_this2","length","allowedTypes","maxSize","validFiles","Array","from","filter","file","size","showError","name","fileExt","split","pop","toLowerCase","includes","progressElement","progressBar","querySelector","progressText","uploadFiles","_this3","uploadPromises","map","Promise","resolve","reject","xhr","XMLHttpRequest","upload","event","lengthComputable","percentComplete","round","loaded","total","width","status","response","JSON","parse","responseText","url","Error","statusText","formData","FormData","append","send","error","all","then","results","uploads","result","pendingAttachments","setTimeout","_this4","text","trim","attachments","disabled","timestamp","Date","toISOString","push","displayMessage","sendToWebhook","aiMessage","fetch","method","headers","stringify","ok","json","messageEl","attachmentsContainer","attachment","attachmentEl","icon","startsWith","scrollTop","errorToast","position","transform","backgroundColor","color","padding","borderRadius","zIndex","parentNode","removeChild","conversationState","isConnecting","isListening","isSpeaking","transcript","initializeVoiceConversation","transcriptArea","statusArea","controlsArea","micButton","toggleListening","SpeechRecognition","webkitSpeechRecognition","recognition","continuous","interimResults","onstart","handleStatusChange","onend","onresult","isFinal","_this2$config","onerror","handleError","stopListening","startListening","start","stop","arguments","undefined","KiaanVoiceOrbClass","orb","options","configUrl","initializeWithConfig","fetchConfig","KiaanVoiceOrb"],"sourceRoot":""}